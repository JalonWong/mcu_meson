[host_machine]
system = 'none'
cpu_family = 'arm'
endian = 'little'

[properties]
needs_exe_wrapper = true

[constants]
cross_toolchain = 'ARM_TOOLCHAIN_PATH'
cross_compile = cross_toolchain + '/bin/'
cpu_args = []
cpu_link_args = []
additional_c_link_args = []
base_c_args = ['-Wno-unused-command-line-argument', '-masm=auto', '-Wa,armasm,--diag_suppress=A1950W', '-Wno-comment','-Wno-packed','-Wno-missing-variable-declarations','-Wno-missing-prototypes','-Wno-missing-noreturn','-Wno-reserved-id-macro','-Wno-unused-const-variable','-Wno-unused-macros','-Wno-documentation-unknown-command','-Wno-documentation','-funsigned-char','-fshort-enums','-fshort-wchar','-gdwarf-4','-fdata-sections','-ffunction-sections']
base_c_link_args = ['--strict','--summary_stderr','--entry', 'Reset_Handler'] + additional_c_link_args

[binaries]
c = cross_compile + 'armclang'
cpp = cross_compile + 'armclang'
ar = cross_compile + 'armar'
ld = cross_compile + 'armlink'
strip = cross_compile + 'armar'
objcopy = cross_compile + 'fromelf'


[built-in options]
c_std = 'c99'
cpp_std = 'c++11'
default_library = 'static'
c_args = base_c_args + cpu_args
c_link_args = base_c_link_args + cpu_link_args
cpp_args = ['-fno-exceptions','-fno-rtti'] + base_c_args + cpu_args
cpp_link_args = base_c_link_args + cpu_link_args
