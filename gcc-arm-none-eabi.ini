[host_machine]
system = 'none'
cpu_family = 'arm'
endian = 'little'

[properties]
needs_exe_wrapper = true

[constants]
cross_toolchain = 'ARM_TOOLCHAIN_PATH'
cross_compile = cross_toolchain + '/bin/arm-none-eabi-'
cpu_args = []
base_c_args = ['-Wno-comment','-Wno-unused-const-variable','-Wno-unused-function','-Wreturn-type','-funsigned-char','-fshort-enums','-gdwarf-3','-fdata-sections','-ffunction-sections']
additional_c_link_args = []
base_c_link_args = ['-specs=nano.specs','-lc','-lm','-lnosys','-lsupc++_nano','-funsigned-char','-fshort-enums','-ffunction-sections','-fdata-sections','-Wl,--gc-sections'] + additional_c_link_args

[binaries]
c = cross_compile + 'gcc'
cpp = cross_compile + 'g++'
ar = cross_compile + 'gcc-ar'
ranlib = cross_compile + 'gcc-ranlib'
strip = cross_compile + 'strip'
objcopy = cross_compile + 'objcopy'
objdump = cross_compile + 'objdump'

[built-in options]
c_std = 'c99'
cpp_std = 'c++11'
default_library = 'static'
c_args = base_c_args + cpu_args
c_link_args = base_c_link_args + cpu_args
cpp_args = ['-fno-exceptions','-fno-rtti'] + base_c_args + cpu_args
cpp_link_args = base_c_link_args + cpu_args
